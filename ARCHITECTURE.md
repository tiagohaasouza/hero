# Relatório de Arquitetura do **Hero** – Status Atual e Próximos Passos

## **Visão Geral e Estado Atual do Projeto**

O projeto **Hero** evoluiu para um monorepo com backend Laravel (/api) e frontend Vue 3/Vuetify (/app) totalmente containerizado em Docker. Diversas melhorias arquiteturais propostas já foram **implementadas com sucesso (aprovadas)**, enquanto outras ainda **não foram concluídas** ou **precisam de ajustes** conforme detalhado a seguir.

### **Funcionalidades Implementadas (Aprovadas)**

* **Ambiente Docker Unificado e Zero-Config:** Foi eliminada a dependência de um arquivo *.env* na raiz e definidas variáveis padrão diretamente no docker-compose.yml. Hoje, um desenvolvedor pode rodar docker compose up sem configurações manuais – o domínio padrão hero.localhost e portas 80/443 (Nginx) e 3000 (frontend) já vêm definidas[\[1\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L7-L15)[\[2\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L9-L17). A geração automática de certificados SSL de desenvolvimento também foi integrada via script, dispensando passos extras[\[2\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L9-L17)[\[3\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L11-L19). Com isso, o **container do Nginx** gera, no primeiro up, um certificado *hero.localhost.crt/key* válido localmente e proxy reverso para os serviços internos. A configuração do *Nginx* foi unificada em um único template que escuta nas portas 80/443 e encaminha requisições adequadamente: domínio raiz/front (hero.localhost) para o servidor Vite (porta do frontend) e subdomínio API (api.hero.localhost) para o PHP-FPM[\[4\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L26-L35)[\[5\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L62-L70). *Resultado:* o ambiente sobe limpo, servindo a SPA em **https://hero.localhost** e a API em **https://api.hero.localhost** sem necessidade de arquivos .env manuais[\[6\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L31-L39)[\[7\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L59-L64).

* **Reestruturação do Código Backend:** A base Laravel foi organizada em camadas **Domain**, **Application** e **Infrastructure** dentro de api/app, seguindo princípios de *Domain-Driven Design*. Models, Repositórios e entidades de negócio residem em **Domain**; regras de aplicação, serviços e casos de uso em **Application**; e configurações de framework (Providers, Http/Middleware) em **Infrastructure**[\[8\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L35-L43). Os namespaces do Composer foram atualizados para refletir essa estrutura (por exemplo, "Domain\\\\": "app/Domain/" no *composer.json*)[\[9\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L39-L47). Foi criada também a pasta app/Support para utilitários globais (traits, helpers) – local onde será implementada a classe de resposta padronizada **ApiResponse** futuramente[\[10\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L41-L49)[\[11\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L43-L46). Essa refatoração modular já está **concluída**, garantindo maior manutenibilidade do backend sem quebrar funcionalidades existentes[\[7\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L59-L64).

* **Padronização de Versionamento da API:** Todas as rotas de API agora operam sob o prefixo **/api/v1**, conforme planejado. No RouteServiceProvider, o arquivo routes/api.php inclui grupos para v1 e v2, isolando as versões[\[12\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api.php#L3-L7). Foi provisionado um arquivo de rotas vazio para **v2** (garantindo facilidade de extensão futura)[\[13\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L49-L57). Além disso, as respostas da API incluem um header HTTP X-API-Version: 1 para clareza[\[13\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L49-L57). Essa mudança de versionamento já está **implementada** – por exemplo, uma requisição GET em /api/v1/ aciona o controlador correto[\[14\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api_v1.php#L7-L11). Com isso, temos a infraestrutura pronta para evoluir o serviço sem quebra de compatibilidade, conforme definido na arquitetura.

* **Multi-Tenancy – Base Inicial:** O suporte a **multi-tenancy** foi iniciado utilizando o pacote **stancl/tenancy**. Já existe um modelo **Tenant** e tabela tenants no banco central, com campos *key* (identificador), *domain*, *active* etc. [\[15\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/database/migrations/2025_09_07_000000_create_tenants_table.php#L10-L18). Cada usuário no sistema possui agora um campo tenant\_id vinculado ao tenant ao qual pertence, bem como um campo role básico[\[16\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/database/migrations/2025_09_07_000000_create_tenants_table.php#L20-L28). Um middleware customizado **ResolveTenant** foi implementado para interceptar todas as requests da API e determinar o tenant com base no host/subdomínio[\[17\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L14-L22)[\[18\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L34-L41). Assim, se a requisição vier de cliente.hero.localhost, o middleware busca um tenant com domain ou key correspondente e o associa ao contexto da aplicação (via app()-\>instance('tenant', $tenant))[\[19\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L22-L30)[\[20\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L34-L42). Essa solução inicial garante que requisições a subdomínios de clientes não sejam tratadas como contexto “central” e já forneceu isolamento lógico de dados no código de demonstração (por exemplo, no comando Artisan de demo, usuários são criados com tenant\_id específico)[\[21\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php#L26-L34)[\[22\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php#L40-L48). **Importante:** a implementação completa do isolamento (banco de dados separado por tenant) ainda **não** está concluída – ver detalhes em pendências abaixo.

* **Fluxo de Desenvolvimento Automatizado:** Scripts auxiliares foram adicionados para melhorar a DX (*Developer Experience*). Por exemplo, o script docker/entrypoints/api-entrypoint.sh verifica se as dependências do Laravel estão instaladas (rodando composer install se necessário) e realiza migrações/seed iniciais automaticamente ao subir o container[\[23\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L19-L27)[\[24\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L21-L29). De modo semelhante, o entrypoint do frontend roda npm install caso os módulos não existam e inicia o Vite dev server automaticamente[\[25\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh#L22-L30)[\[26\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh#L42-L50). Foi implementado um mecanismo de *health-check* e um serviço auxiliar **hero-ready** (conforme patch v5.6) para indicar quando todos os containers estão prontos – o log exibe uma mensagem ✅ informando que API e App estão disponíveis[\[27\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/README_PATCH_v5.6.md#L22-L26). Dessa forma, o processo de *boot* do projeto foi simplificado e automatizado, reduzindo significativamente a necessidade de intervenções manuais ao iniciar um ambiente limpo.

* **Melhorias no Frontend:** No front, a refatoração para **composition API** e **Pinia** já está em andamento. Diversos *composables* e *stores* reativos foram criados substituindo padrões antigos baseados em herança, conforme identificado no roadmap do front[\[28\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L3-L11)[\[29\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L19-L22). Por exemplo, funcionalidades modais e de estado global estão migrando para composables (p.ex. um composable useDialog está planejado para substituir chamadas imperativas a modais). A base de componentes Vuetify também foi estruturada para facilitar customização de tema – há suporte para tema claro/escuro e preparação para armazenar preferências do usuário (tema, idioma) na store global[\[30\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L10-L18)[\[31\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L13-L16). Embora nem todas essas melhorias estejam finalizadas, a **mentalidade de composição** já foi adotada e partes significativas do front foram atualizadas nesse sentido (muitas telas agora usam funções compostas e evitam herança desnecessária – este item está **aprovado** conceitualmente e parcialmente implementado).

### **Decisões Obsoletas ou Ajustadas (Desaprovadas)**

Algumas abordagens do projeto original foram revisadas e alteradas durante o desenvolvimento da nova arquitetura:

* **Eliminação do .env Raiz:** No projeto inicial, usava-se um arquivo .env na raiz para configurar domínio e portas, o que exigia edição manual. Essa prática foi **descontinuada**. Agora, as variáveis de ambiente essenciais (domínio base, portas do Nginx, porta do frontend, credenciais de banco) ficam definidas diretamente no **docker-compose** com valores padrão[\[1\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L7-L15)[\[2\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L9-L17). A remoção do .env raiz já foi efetivada[\[1\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L7-L15), prevenindo configurações divergentes e simplificando o *setup*. Qualquer tentativa de usar um .env externo para essas configs é, portanto, *desnecessária e não suportada* na nova arquitetura.

* **Configuração de Porta do Frontend Fixa:** Antes, a porta do servidor frontend era estática (3000) ou exigia alterar múltiplos arquivos para mudança. Com o patch recente, isso mudou – agora o Nginx **detecta dinamicamente** a porta do Vite a partir do /app/.env (variável VITE\_PORT) e ajusta seu proxy interno[\[32\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L4-L12)[\[33\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L98-L101). Portanto, a prática antiga de ter a porta “fixa” ou precisar editar manualmente configurações foi aposentada. **No entanto**, identificamos que a sincronização dessa porta dinâmica ainda precisa de pequenos ajustes (detalhado em “Pendências”) – mas a abordagem fixando porta em arquivos separados está *desaprovada* e substituída pelo novo mecanismo automatizado.

* **Multi-Tenancy via Campo tenant\_id (Solução Temporária):** Conforme a visão arquitetural, a meta é isolamento total por **bancos de dados separados** para cada tenant[\[34\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L12-L15). Em vez de implementar isso imediatamente, optou-se inicialmente por uma solução mais simples: adicionar um campo tenant\_id nas principais tabelas (como usuários) e filtrar os dados via lógica de aplicação. Essa abordagem, embora tenha agilizado testes iniciais, **não é a definitiva**. Ela carece das garantias de isolamento físico (por ex., ainda todas as informações residem no mesmo banco). A intenção original de usar o pacote Stancl Tenancy para criar e migrar bancos dedicados permanece **aprovada** como objetivo – a solução atual com tenant\_id serve apenas como passo provisório e será substituída pela estratégia completa de multi-tenancy (ver plano de continuação). Em resumo, manter todos os tenants em um só banco é considerado **insatisfatório** para o nível de isolamento desejado e será evoluído.

* **Modelo de Tenancy Híbrido (Stancl vs Custom):** Houve certa duplicação no manejo de tenants: o projeto integrou o Stancl Tenancy (configurado no config/tenancy.php e provido pelo **TenancyServiceProvider**) e ao mesmo tempo introduziu um modelo próprio Domain\\Models\\Tenant e middleware custom. Essa redundância está sendo reavaliada. A tendência será **padronizar para uma abordagem única**. Ou seja, ou utilizar majoritariamente as facilidades do Stancl (middlewares de InitializeTenancyByDomain, eventos automáticos de criação de BD, etc.) ou manter um controle manual consistente. Dado que a arquitetura esperada prioriza aproveitar Stancl para evitar reinventar a roda, a duplicação atual é **desaprovada** – deverá ser resolvida unificando o método de inicialização de tenancy. Isso significa, por exemplo, remover o middleware custom se optarmos pela identificação automática do Stancl, ou vice-versa, mas garantindo que não hajam dois mecanismos concorrentes.

* **Autenticação Temporária via Sessão:** No código legado do Laravel, por padrão, a autenticação estava baseada em sessão/cookies (guard web). Como decidido, o projeto migrará para **tokens OAuth2 (Passport)**, abandonando sessões para APIs. Até o momento, não foi implementado nenhum sistema de login novo – ou seja, a autenticação encontra-se **incompleta**, sem fluxos de login operacionais. O antigo método de sessão **não será utilizado na API** (endpoints protegidos usarão auth:api com Passport). Qualquer vestígio de lógica de sessão (e.g. rotas de *login controllers* do Laravel ou scaffolding padrão) será descartado. Essa mudança para JWT permanece no plano e o método de sessão tradicional está **obsoleto** no contexto da API do Hero.

* **Campo role vs. Spatie Permissions:** Como solução rápida, adicionamos um campo de texto role no modelo User para distinguir *admin*, *superadmin*, etc., e usamos isso no seeder de demonstração[\[35\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php#L46-L54). Contudo, essa não é a abordagem final desejada para controle de permissões. O plano é integrar o pacote **spatie/laravel-permission**, com tabelas dedicadas para roles e permissions por tenant[\[36\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L27-L35). O uso do campo único de role é **provisório** e será substituído por uma estrutura mais robusta de RBAC (Role-Based Access Control) multi-tenant. Em outras palavras, a implementação atual de roles é simples demais e não atende aos requisitos completos – está *desaprovada* a longo prazo, devendo dar lugar à solução com Spatie (mais segura e flexível).

### **Pendências e Itens que Precisam de Melhoria**

Apesar dos progressos, restam **funcionalidades incompletas ou pontos a corrigir** antes que o Hero atinja todos os objetivos planejados:

* **Finalização do Multi-Tenancy (Stancl Tenancy):** A implementação de multi-tenancy ainda requer trabalho para atingir isolamento total. Especificamente, é preciso configurar o Stancl Tenancy para **criar um banco de dados separado por tenant e migrar/popular automaticamente**[\[37\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L25-L31)[\[38\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L29-L37). Hoje, nenhum banco separado está sendo criado ao adicionar um novo tenant – todos os tenants e dados residem no banco padrão. As tarefas pendentes incluem: ajustar o config para *central\_connection* e *template\_tenant\_connection* corretos, garantir que *bootstrappers* de Cache/Filesystem/Redis estejam ativos (isolando cache e storage por tenant)[\[39\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L9-L17)[\[40\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L11-L19), implementar comandos Artisan como **tenants:create** e **tenants:delete** (usando as APIs do Stancl)[\[41\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L25-L33)[\[42\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L33-L41), mover migrations de OAuth e Permissões para pastas de tenant, etc. Atualmente, **nenhuma** dessas sub-tarefas está marcada como feita[\[43\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L7-L15)[\[44\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L15-L23). Além disso, o projeto precisa decidir como tratar usuários “globais” (super-admin geral) versus usuários de tenant – possivelmente introduzir um guard separado ou distinguir pelo campo tenant\_id null[\[45\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L43-L49). Em resumo, a **infraestrutura de multi-tenancy está incompleta**: falta inicializar tenancy nas rotas de tenants (arquivo routes/tenant.php está praticamente vazio)[\[46\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/tenant.php#L20-L27), aplicar o middleware Stancl **PreventAccessFromCentralDomains** nas rotas de tenant[\[47\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L19-L23)[\[48\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L21-L29), e integrar de fato o Stancl no ciclo de vida das requisições. Este é um ponto crítico a ser endereçado na continuação do desenvolvimento.

* **Suporte total a OAuth2 e Segurança:** A autenticação via **Laravel Passport** ainda não foi implementada. Nenhum endpoint de login/refresh/logout JWT existe por enquanto, deixando a API sem um mecanismo de autenticação funcional. Conforme o roteiro, é necessário: instalar e configurar o Passport (chaves OAuth2, clients etc.)[\[49\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L5-L13), criar controlador **AuthController** com métodos login (grant *password*), refresh, logout e me[\[50\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L13-L21), proteger rotas com middleware auth:api, e retornar os tokens conforme formato definido. Nada disso foi feito até o momento (todos os checkboxes de autenticação estão em aberto)[\[51\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L7-L15)[\[52\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L23-L31). Também precisa ser integrado o pacote **spatie/permission** para controle granular de autorização dentro de cada tenant[\[36\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L27-L35). Isso envolve migrations para roles/permissions por tenant, seeds iniciais (por exemplo, criar role “admin” com todas permissões em cada novo tenant)[\[53\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L31-L39), e uso de middleware de autorização nas rotas (ex.: can: ou permission: do Spatie)[\[54\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L39-L47). No estado atual, **nenhuma checagem de permissão** específica é feita nas rotas (apenas proteção genérica por token seria possível após Passport). Além disso, medidas de **segurança** complementares estão pendentes: habilitar CORS corretamente para aceitar origens hero.localhost e subdomínios[\[55\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L43-L51), configurar *rate limiting* em endpoints sensíveis (login)[\[55\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L43-L51), e implementar recuperação de senha/email de verificação caso desejado. Em suma, a **ausência dessas funcionalidades de autenticação e segurança** é uma lacuna importante que precisa ser suprida antes do sistema ser utilizável em produção.

* **Padronização das Respostas JSON e Tratamento de Erros:** Atualmente, os endpoints existentes retornam respostas básicas do Laravel (ou de controllers stub) sem seguir um padrão unificado de payload. Falta implementar o helper **ApiResponse** (ou trait) para estruturar todas as respostas no formato { ok: true/false, status: HTTP\_CODE, data: ... / error: {...} } conforme definido[\[56\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L7-L15)[\[57\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L13-L20). Também não foi customizada a classe global de Handler de exceções para formatar erros (404, 500, validação, etc.) no padrão JSON combinado[\[58\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L21-L29). Essas tarefas permanecem pendentes[\[59\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L9-L17)[\[60\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L23-L31). Sem elas, o frontend pode ter dificuldade em tratar erros de forma consistente, e mensagens importantes (como validação de campos) podem não estar sendo devolvidas no formato esperado. A padronização de códigos de erro e internacionalização das mensagens de erro também entra aqui – o projeto hero-alpha fornecia um docs/errors.md com códigos, e pretende-se algo similar no Hero[\[61\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L29-L37)[\[62\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L31-L39). No momento, **nenhuma dessas melhorias de respostas JSON** foi implementada (as rotas de exemplo retornam dados diretamente, sem wrapper). Isso requer atenção para melhorar a experiência de integração da API e alinhá-la aos contratos previstos com o frontend.

* **Internacionalização (i18n) da API:** O backend ainda não suporta múltiplos idiomas nas mensagens. Precisamos criar o middleware **LocaleFromRequest** que leia o header *Accept-Language* e ajuste o locale do Laravel (en, pt\_BR)[\[63\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L5-L13)[\[64\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L7-L15), bem como preparar os arquivos de tradução em resources/lang/en e pt\_BR[\[65\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L11-L19). Isso permitirá que erros e textos retornados ao cliente estejam no idioma correto. Até agora, não há nenhuma implementação disso – todas as tarefas de i18n listadas estão pendentes[\[64\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L7-L15)[\[66\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L13-L21). Também não foi verificado no frontend o envio do header de linguagem ou preferências do usuário. Essa feature é importante para atender usuários finais em português e inglês conforme requerido. Atualmente, **todas as mensagens da API estão “hardcoded” em inglês ou português no código**, o que precisa ser revisado para utilizar o sistema de tradução do Laravel. Em resumo, a API do Hero ainda é monolíngue e deve ser tornada multilíngue antes do lançamento, conforme planejado.

* **Módulos Básicos BREAD (CRUDs) e Geração de Código:** Embora a arquitetura tenha previsto um comando Artisan **make:bread {Model}** para acelerar a criação de módulos padrão[\[67\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L5-L13), esse comando **não existe ainda no projeto** (nem os stubs atualizados para ele). Adicionalmente, funcionalidades básicas como CRUD de Usuários e Livros ainda não foram implementadas: por exemplo, não há hoje um *UsersController* completo com endpoints index/show/store/update/delete funcionando[\[68\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L19-L27). Essas entidades são fundamentais para testar o sistema (o front possui telas de gerenciamento de usuários/livros do hero-alpha como referência). No estado atual, boa parte dos CRUDs está ausente ou incompleta – demandando implementação. As tarefas incluem: desenvolver o comando **make:bread** e testá-lo gerando ao menos um módulo (e ajustando stubs se necessário)[\[69\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L7-L15)[\[70\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L15-L23); implementar manualmente os controllers de usuário e livro seguindo as convenções (usando Requests de validação, Resources para formatação, políticas de autorização apropriadas)[\[68\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L19-L27)[\[71\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L31-L39); e garantir que esses módulos respeitem o multi-tenant (isto é, um tenant só vê/cria/edita seus próprios registros) – o que estará resolvido ao completarmos a integração do Stancl ou via *scoping* manual temporário. Nenhuma dessas funcionalidades CRUD essenciais está pronta no momento, portanto esse é um **grande bloco de trabalho pendente** para atingir a paridade com o escopo pretendido.

* **Testes Automatizados:** Até o momento não foram adicionados testes automatizados (unitários ou de integração). Dado o plano de qualidade, pretende-se escrever testes (usando Pest PHP) cobrindo autenticação, isolamento multi-tenant, principais casos de uso de CRUD, e também testes no frontend (unitários de componentes/composables e end-to-end com Cypress)[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35). A ausência de testes significa que refatorações e novas features trazem risco de regressões. Este é um ponto a melhorar assim que as funcionalidades principais estiverem implementadas. A meta sugerida era \~70% de cobertura inicial[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35) – atualmente estamos em 0%. Portanto, **instituir a suíte de testes** no backend e front é uma necessidade clara antes de avançar para um ambiente mais estável.

* **Documentação e Swagger:** A documentação da API (endpoints, autenticação, erros) ainda não foi produzida. Planeja-se criar arquivos Markdown em /docs (e.g. **docs/auth.md**, **docs/errors.md**) consolidando como usar a API[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35)[\[73\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L31-L38). Além disso, nenhuma definição **OpenAPI/Swagger** foi gerada até agora – a ideia era manter uma especificação OpenAPI 3.0 cobrindo todos endpoints da v1 e servir um Swagger UI para desenvolvedores[\[73\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L31-L38). Essa documentação é crucial para onboard de outros devs e para consumidores da API. No presente, o projeto carece dessa referência; logo, **gerar a documentação da API** e integrá-la (talvez rodando Swagger UI no próprio ambiente dev) é um item a ser priorizado após implementar os endpoints principais.

* **Melhorias e Refino no Frontend:** Embora o frontend já tenha sido parcialmente refatorado, alguns aprimoramentos permanecem pendentes, conforme backlog do front. Exemplos: criação do composable **useDialog** para centralizar diálogos de confirmação (substituindo uso direto de \<v-dialog\> em cada componente) – esse item consta no planejamento e ainda não foi implementado[\[74\]](https://github.com/tiagohaasouza/hero/issues/382#:~:text=,facilitando%20uso%20em%20fluxos%20ass%C3%ADncronos); implementação de um **Tema Global** configurável no Vuetify (cores e dark mode) com possibilidade de troca dinâmica – também planejado e em aberto[\[75\]](https://github.com/tiagohaasouza/hero/issues/381#:~:text=,prefer%C3%AAncia%20do%20usu%C3%A1rio%20em%20store); revisão do **README do front** com documentação de setup, estrutura de pastas e convenções – pendente[\[76\]](https://github.com/tiagohaasouza/hero/issues/379#:~:text=,etc.%29%20para%20facilitar%20contribui%C3%A7%C3%B5es); e padronização de configurações de **Lint/Prettier/Husky** no front – pendente[\[77\]](https://github.com/tiagohaasouza/hero/issues/380#:~:text=,Vuetify%2C%20evitando%20warnings%20no%20build). Além disso, funcionalidades novas como a **Página de Perfil do Usuário** (para editar seus dados, preferência de idioma/tema) ainda precisam ser construídas[\[78\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L11-L19)[\[31\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L13-L16). Esses itens de frontend, embora não impeçam o funcionamento básico, são importantes para a *UX* e para manter a qualidade de código consistente, e devem entrar no cronograma assim que as fundações do backend estiverem sólidas.

## **Roteiro de Desenvolvimento – Prioridades**

Considerando o exposto, segue um **roteiro ordenado** das próximas ações de desenvolvimento, priorizando a estabilização da base e a implementação dos recursos essenciais:

1. **Limpeza de Repositório e Organização de Arquivos:** Remover arquivos desnecessários, backups e duplicações que ficaram do processo de refatoração. Por exemplo, deletar arquivos de patch temporários (como README\_PATCH\_\* já aplicados), remover scripts antigos substituídos (ex.: pasta .dev-helpers/ se tudo foi migrado para docker/scripts/), e quaisquer configs redundantes. Atualizar documentação interna conforme necessário (README principal, etc.) para refletir a nova estrutura. Essa limpeza garante que o projeto fique coeso e diminui confusão para novos contribuidores.

2. **Correção do Mecanismo de Porta do Frontend no Docker:** Ajustar o pequeno problema no vínculo do .env do frontend com o Nginx. Atualmente, apesar do suporte a porta dinâmica, ao mudar VITE\_PORT no /app/.env o sistema “deixa de funcionar” – possivelmente por não recriar o container ou algum valor de cache. Será necessário investigar e garantir que:  
   a) O container **hero-frontend** respeite a nova porta (o entrypoint já usa VITE\_PORT para subir o Vite na porta correta[\[26\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh#L42-L50), mas talvez seja preciso reiniciar containers ao mudar a env).  
   b) O Nginx pegue corretamente o novo valor (o script de entrypoint do nginx já lê do /app/.env dinamicamente[\[32\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L4-L12), mas verificar se o volume está montado como esperado e em tempo).  
   c) Os healthchecks (se configurados) e mensagens do serviço **hero-ready** considerem a nova porta.  
   Em suma, testar o cenário de porta custom (e.g. 3001\) e aplicar correções: pode envolver adicionar environment: FRONTEND\_PORT no serviço nginx no compose, ou deixar mais claro no README que é preciso recriar os containers ao alterar porta. O objetivo é tornar **plug-and-play** a mudança de porta do front, sem que o sistema quebre.

3. **Consolidação do Multi-Tenancy (Stancl Tenancy completo):** Esta é uma prioridade alta. Inclui:

4. **Middleware de Tenancy:** Decidir e implementar o método único de resolução de tenants. Provavelmente adotar os middlewares nativos do Stancl, como **InitializeTenancyByDomain** \+ **PreventAccessFromCentralDomains** nas rotas de tenant[\[44\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L15-L23)[\[79\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L19-L21). Isso requer remover ou refatorar o middleware custom ResolveTenant para não haver conflito. A configuração central\_domains já define hero.localhost e api.hero.localhost como domínios centrais[\[80\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L19-L27). Portanto, podemos aplicar o middleware Stancl nas rotas apropriadas (por exemplo, envolver as rotas v1 dos tenants).

5. **Modelo Tenant Unificado:** Decidir se vamos usar o modelo do Stancl (Stancl\\Tenancy\\Database\\Models\\Tenant) diretamente ou extender para incluir campos extras. Dado que já temos campos name, domain, active, etc., podemos **estender** o Tenant do Stancl na nossa classe Domain\\Models\\Tenant ou migrar esses campos para a coluna data JSON que Stancl provê. A solução mais simples: continuar com nossa tabela tenants e informar ao Stancl para usar nosso modelo (ajustando tenant\_model no config) – mas então integrar esse modelo aos eventos Stancl. Alternativamente, usar o modelo Stancl puro e abandonar nosso modelo custom. Em ambos casos, garantir que ao criar um tenant via Stancl seja armazenado o *domain* (se optarmos por não usar a tabela Domain do Stancl, podemos continuar guardando o domain na tabela tenants e sobrescrever a lógica de busca de tenant pelo host).

6. **Criação e Exclusão de Tenants:** Implementar os comandos Artisan **tenants:create {nome} {domain}** e **tenants:delete {id}**. O comando *create* deve usar as APIs do Stancl: ex. Tenant::create() para gerar um tenant (disparando evento TenantCreated). Via TenancyServiceProvider, isso já acionará os jobs de criar banco e rodar migrations[\[81\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Providers/TenancyServiceProvider.php#L24-L32)[\[82\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Providers/TenancyServiceProvider.php#L26-L35). Precisamos verificar a questão do **ID do tenant**: atualmente o Stancl está configurado para UUID[\[83\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L8-L16)[\[84\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L2-L5), porém nossa migration usa bigint auto-incremento. Aqui, tomar decisão: ou mudamos a coluna id para UUID (e ajustamos foreign keys) ou configuramos o Stancl para usar numérico. Recomenda-se, para evitar migração complexa agora, **configurar o Stancl** para não usar UUID (usar incremental padrão) – possivelmente definindo id\_generator null ou removendo a config custom. Feito isso, criar tenant gerará um ID numérico que casa com nossa tabela. O comando *delete* deve revogar tokens OAuth daquele tenant (quando Passport estiver integrado) e então chamar $tenant-\>delete() do Stancl, que acionará o pipeline para dropar o banco[\[85\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L31-L39)[\[42\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L33-L41). Também remover quaisquer dados residuais (registros em nossa tabela tenants se for separada).

7. **Isolamento de Dados & Migrations:** Organizar as migrations de tenant (por exemplo, colocar migrations de models compartilhados em database/migrations/tenant). Garantir que ao rodar o comando *tenants:migrate* (fornecido pelo Stancl) essas migrations executem em cada banco de tenant[\[86\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L45-L49). Itens como migrations do Passport (tabelas oauth\_*) e do Spatie (roles/permissions) devem ir para essa pasta* tenant\*, pois cada tenant terá essas tabelas. Configurar o tenancy.php para apontar migrations\_path correto se necessário. Além disso, mover seeds relevantes (ex.: seed de roles básicas) para serem executados pós-criação de tenant, seja via evento (TenantCreated \-\> Job seed) ou via opção no comando create (e.g. \--with-demo-data). Implementar um seeder de exemplo para tenants (popular com dados fictícios se desejado)[\[42\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L33-L41).

8. **Teste e Validação:** Após implementar, testar criar 2 tenants e verificar: cada um deve ter seu banco isolado (ex.: tenant1 e tenant2 databases). Criar usuários e registros no Tenant A não aparecem no Tenant B, confirmando isolamento[\[87\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L49-L56). Testar acesso: chamada a **https://api.hero.localhost** (domínio central) deve **não** inicializar tenancy – idealmente usada só para rotas globais (como criação de tenant ou login central se houver). Chamadas a **https://{tenant}.hero.localhost/api/v1/** devem carregar dados apenas daquele tenant. Ajustar conforme resultados.

9. **Migrar Dados Existentes (se aplicável):** Se já há dados de demo inseridos no banco central (via HeroDemo), planejar migração desses para o esquema final. Por exemplo, recriar o tenant “acme” via novo comando (que criará bd separado) e mover os usuários de demo para o novo bd. Como é ambiente de dev, podemos descartar e recriar sem problemas, mas documentar o passo.  
   Em resumo, **completar o multi-tenancy** é crucial antes de avançar para outras features, pois impacta profundamente estrutura de banco e funcionamento dos CRUDs.

10. **Implementar Autenticação OAuth2 e Autorização por Permissões:** Com multi-tenancy pronto, habilitar a segurança da API:

11. **Laravel Passport (OAuth2 JWT):** Instalar Passport e rodar php artisan passport:install dentro do container API para gerar as chaves e clients[\[49\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L5-L13). Configurar o *AuthServiceProvider* chamando Passport::routes() e definindo tempo de expiração de tokens (ex.: 1 dia access, 15 dias refresh) e escopos padrão[\[51\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L7-L15)[\[88\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L37-L39). Verificar se as migrations do Passport (tabelas oauth\_\*) estão sendo criadas no **banco de tenants** – provavelmente mover essas migrations para pasta tenant, pois cada tenant terá seus próprios tokens e clients. Implementar o **AuthController** com endpoints:

    * POST /api/v1/auth/login: validando email/senha e emitindo token de acesso e refresh (pode usar Password Grant do Passport internamente).

    * POST /api/v1/auth/refresh: recebendo um refresh\_token válido e retornando novo access\_token.

    * POST /api/v1/auth/logout: revogando o token atual (Passport possui método para revogar tokens) e invalidando refresh tokens se necessário.

    * GET /api/v1/auth/me: retornando os dados do usuário logado (pegar do token).  
      Proteger logout e me com middleware auth:api (exigir token JWT). Seguir o formato de resposta JSON padronizado (usar ApiResponse nos retornos). Incluir nas respostas de login/refresh informações como tipo do token (Bearer), validade (expires\_in) e scopes se útil[\[50\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L13-L21)[\[52\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L23-L31). Testar via Postman esses fluxos: login com credenciais corretas retorna HTTP 200 com { ok:true, data: { token, refreshToken, user, ...} }; credenciais incorretas retornam 401 com { ok:false, error:{ code: 'INVALID\_CREDENTIALS', message: 'Usuário ou senha incorretos' } }, por exemplo[\[89\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L55-L61).

12. **Spatie Laravel-Permission (RBAC):** Instalar e configurar o pacote de permissões[\[36\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L27-L35). Publicar a config permission.php e ajustá-la para usar guard api. Mover/ajustar as migrations do Spatie (roles, permissions, model\_has\_permissions, etc.) para a pasta de tenant, garantindo que cada banco de tenant tenha suas próprias tabelas de controle. Integrar com Stancl Tenancy: possivelmente usar Tenancy bootstrappers para não conflitar caches do Spatie entre tenants (Spatie usa cache para permissões – talvez precisar limpar cache ao mudar de tenant, Stancl *CacheTenancyBootstrapper* já cuida se configurado[\[90\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L31-L39)[\[91\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L32-L40)). Após isso, ao criar um novo tenant, rodar seeds para criar roles/permissões básicas[\[92\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L33-L39): por ex, criar role **admin** e **user** e permissões típicas (*users.view*, *users.edit*, *books.view*, *books.edit*, etc.). Atribuir todas permissões ao role admin por padrão[\[92\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L33-L39). No seed do tenant de demo, associar o usuário admin demo à role admin, etc.[\[93\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L35-L39). No modelo User, integrar o trait HasRoles do Spatie.

13. **Proteção de Rotas por Permissão:** Definir, para os principais endpoints de CRUD, quais roles/permissões podem acessá-los. Exemplo: somente *admin* do tenant pode criar ou remover usuários; usuários comuns podem talvez ver listagens mas não editar. Implementar middleware do Spatie nas rotas ou nos controllers (ex.: \-\>middleware('permission:users.edit')). Garantir que scopes do Passport reflitam essas permissões – podemos mapear scopes de OAuth para roles/permissões, por exemplo scope admin ou users.write[\[88\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L37-L39). Assim, o frontend ao autenticar poderia solicitar scopes específicos. Porém, inicialmente podemos simplificar: emitir token com todos scopes do usuário.

14. **Validação e Segurança Adicionais:** Ativar CORS na API configurando config/cors.php para permitir origem do front (https://hero.localhost) e subdomínios *.hero.localhost[\[55\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L43-L51). Configurar throttling no login: por ex, usar middleware throttle:5,1 para limitar 5 tentativas por minuto por IP. Implementar (se houver tempo) os endpoints de* Forgot Password *e* Reset Password *usando as notificações do Laravel, para completar o fluxo de recuperação de conta[\[94\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L49-L57) – embora opcional, é um diferencial útil.*  
    *Após isso, testar end-to-end: realizar login, acessar recursos protegidos com token, verificar que permissões estão respeitadas (ex.: usuário sem permissão tentando acessar rota admin recebe 403 Forbidden). Com Passport e Spatie implementados, o Hero terá* *autenticação e autorização robustas*\*, atendendo ao objetivo de segurança do projeto.

15. **Padronizar Respostas JSON e Tratamento Global de Erros:** Implementar a camada de formatação unificada das respostas da API:

16. Criar a classe helper ou trait **ApiResponse** (em App\\Support\\ApiResponse conforme planejado)[\[57\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L13-L20) com métodos estáticos: success($data, $status=200) e error($errorCode, $message, $status) que retornem um JsonResponse no formato estruturado. Utilizar esses helpers em todos os controllers API – refatorar quaisquer retornos diretos (return Model ou arrays) para usar return ApiResponse::success(\[...\]). Isso garantirá que mesmo as respostas de sucesso estejam dentro de { ok: true, status: ..., data: {...} }.

17. Customizar o **Exception Handler** (App\\Exceptions\\Handler) sobrescrevendo o método render($request, Exception $e). Implementar lógica para principais exceções:

    * **ModelNotFoundException:** retornar 404 com ApiResponse::error('NOT\_FOUND', 'Recurso não encontrado', 404\) (mensagem traduzível).

    * **ValidationException:** retornar 422 com código VALIDATION\_ERROR, mensagem geral “Erro de validação” e incluir detalhes dos campos (podemos incluir em error.details os erros campo a campo).

    * **AuthenticationException:** retornar 401 com código UNAUTHORIZED, mensagem “Não autenticado”.

    * **AuthorizationException:** (quando usar Gates/Policies) retornar 403 com código FORBIDDEN, mensagem “Acesso negado”.

    * Demais exceções genéricas não tratadas: retornar 500 com código SERVER\_ERROR e mensagem “Erro interno do servidor”. Logar o erro internamente (no arquivo log) mas não expor detalhes sensíveis no JSON.

18. Criar um lugar central para mapear códigos de erro e mensagens padrões. Pode ser um enum ou apenas constantes em ApiResponse, ou mesmo um arquivo de tradução em lang/ (por ex, errors.php contendo NOT\_FOUND \=\> 'Recurso não encontrado'). O hero-alpha trazia um **docs/errors.md** com essa lista – podemos iniciar algo semelhante[\[61\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L29-L37).

19. Garantir que as Form Requests de validação do Laravel usem mensagens traduzidas. Por padrão, Laravel já usa validation.php em lang, portanto adicionar traduções PT-BR adequadas (já há pacotes prontos). Se quisermos formatar os erros de validação de um jeito específico (p.ex. envolver em nosso formato), podemos sobreescrever uma classe de Request ou o próprio handler de ValidationException.

20. Adequar o front para interpretar esse novo formato uniformemente – por exemplo, ajustar interceptors do Axios (no composable useApiClient do front) para reconhecer que se ok: false na resposta, deve tratar como erro de negócio.  
    Implementando isso, toda a API passa a falar “uma mesma língua” em termos de resposta, facilitando o consumo e debug. Faremos testes unitários simples para o ApiResponse (verificando estrutura) e testes de integração disparando requests a endpoints que geram 404, 500, etc. e validando se o JSON segue o padrão[\[95\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L40-L46).

21. **Implementar Internacionalização na API:** Agora que os erros e mensagens estão padronizados, adicionar suporte a **i18n** no backend:

22. Criar o middleware **LocaleFromRequest** e registrar no Kernel (grupo ‘api’ global, antes das rotas). Esse middleware irá inspecionar Accept-Language no header da request (ou um parâmetro ?lang= se fornecido) e definir App::setLocale('pt\_BR') ou 'en' conforme o caso[\[63\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L5-L13)[\[64\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L7-L15). Usar 'pt\_BR' para português do Brasil e 'en' para inglês, padronizando códigos. Se nenhum idioma suportado for solicitado, usar inglês como default.

23. Preparar os **arquivos de tradução** em resources/lang/. Copiar os arquivos padrão do Laravel (auth.php, validation.php, etc.) para en e pt\_BR, utilizando traduções existentes (pacote pt\_BR). Adicionar arquivos custom, por exemplo messages.php para mensagens genéricas e errors.php para nossas mensagens de erro padronizadas (códigos como NOT\_FOUND \=\> "Não encontrado" / "Not found").

24. Revisar todas as mensagens de erro ou sucesso exibidas ao usuário para que passem pela função \_\_() do Laravel. No ApiResponse::error, por exemplo, podemos chamar \_\_("errors.$code") para obter a mensagem no idioma atual. Nas mensagens de validação, Laravel fará automaticamente se usarmos as entries do validation.php.

25. Garantir que, ao retornar mensagens traduzidas, ainda mantenhamos o código de erro no payload. O front poderá usar o código (fixo em inglês) para decidir ações, enquanto exibe a mensagem no idioma do usuário.

26. No front, assegurar que ao fazer requisições ele envie o header *Accept-Language*. Podemos definir isso no Axios global ou no composable API client, pegando do estado (por ex., preferência armazenada em Pinia, default para ‘pt-BR’ se app em português). Assim, o backend saberá qual idioma responder.

27. Atualizar a documentação (docs/i18n.md) explicando o funcionamento: *“Para receber respostas em inglês, inclua Accept-Language: en nos requests. Padrão é pt-BR.”*[\[96\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L27-L33).  
    Testar fazendo uma requisição com header em cada idioma e verificando que mensagens de erro e texto de Auth::attempt (por exemplo, “These credentials do not match...”) vêm traduzidos corretamente. Com isso, o Hero fornecerá **suporte bilingue** completo, alinhado ao front (que já possui i18n nas interfaces).

28. **CRUDs Básicos e Geração de Código (BREAD):** Com a infraestrutura pronta (multi-tenancy, auth, i18n), podemos implementar as funcionalidades de domínio:

29. **Comando make:bread:** Desenvolver o comando Artisan make:bread {Model} que gera automaticamente boilerplate de um módulo. Podemos nos basear nos *stubs* disponíveis do hero-alpha (havia alguns stubs em hero-alpha/api/stubs/bread/\*)[\[67\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L5-L13). Este comando deve criar: Migration, Model, Factory, Seeder, Controller, Form Request(s) e API Resource para o {Model} fornecido[\[69\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L7-L15). Incluir flags conforme planejado: \--tenant para indicar que a migration deve ir na pasta tenant e que o modelo deve usar conexão de tenant; \--softDeletes para incluir timestamps de deleção; \--uuid para usar UUIDs como PK em vez de auto-incremento[\[97\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L9-L17). Inicialmente focar em get o básico funcionando (talvez não implementar todas flags de cara). Testar gerando, por ex, php artisan make:bread Book \--tenant e verificar se arquivos são criados com conteúdo consistente. Ajustar stub do Controller para já usar ApiResponse e políticas de autorização. Esse investimento agilizará a criação de novos módulos no futuro e mantém consistência.

30. **CRUD de Usuários:** Mesmo que tenhamos um modelo User básico do Laravel, precisamos expor endpoints para gerenciá-los no contexto de cada tenant. Implementar **UsersController** (e rotas /users) com métodos: index (listar usuários do tenant atual), show, store (criar novo usuário), update e destroy (excluir usuário). Aplicar regras: somente admin do tenant pode criar/editar/excluir usuários; talvez qualquer usuário autenticado possa ver a lista (dependendo da regra de negócio). Usar Request de validação para store/update (ex.: exigir nome, email único no âmbito do tenant, password nos critérios etc.). No User model, garantir que a busca esteja *scoped* ao tenant (se usando Stancl, ao iniciar tenancy ele deve usar conexão do tenant, então cada user do tenant estará isolado; se estivermos ainda no modelo único com tenant\_id, então adicionar escopo global ou filtrar manualmente pelo app('tenant')-\>id). Retornar UserResource com campos adequados (id, name, email, role talvez) em todas respostas. Testar esse CRUD via API e integrar com o front (a tela de gerenciamento de usuários deve conseguir listar e manipular usuários corretamente).

31. **CRUD de Livros (ou outra entidade de exemplo):** Implementar de forma similar a Users. Como no hero-alpha havia uma entidade Book, podemos replicar. **BookController** com endpoints books. Regras de acesso: usuários comuns podem listar livros, mas talvez só admin pode criar/alterar (depende da política definida; podemos inicialmente permitir qualquer autenticado a criar livro para simplificar demo). Validar campos (ex.: título obrigatório). Usar BookResource para resposta. Este CRUD servirá de referência para outros módulos.

32. **Outros Módulos Futuramente:** Identificar se há outros domínios planeados (ex.: Relatórios, Notificações). Pelo roadmap, havia menção a *features* de relatórios no hero-alpha. Podemos deixar ganchos para isso – ex.: se for implementar notificação, talvez integrar com events \+ WebSockets mais adiante. Mas esses módulos podem ficar para após a versão inicial estar sólida.

33. **Testes dos CRUDs:** Escrever testes de integração simulando chamadas autenticadas aos endpoints de usuários/livros para verificar que respeitam multi-tenancy e permissões. Ex: usuário de tenant A não acessa dados de tenant B; user sem token recebe 401; user sem permissão recebe 403 em rotas restritas.  
    Com os CRUDs básicos implementados, teremos um **MVP funcional** onde se pode cadastrar tenants, fazer login, e gerenciar entidades principais isoladamente em cada tenant – atendendo aos requisitos fundamentais do sistema.

34. **Testes Automatizados e Qualidade:** Paralelamente à implementação dos itens acima (ou logo após os principais), configurar a pipeline de qualidade:

35. **PHPUnit/Pest:** Configurar Pest (já listado no composer.json possivelmente) e escrever testes unitários para componentes chave – p.ex, testes unitários simples para ApiResponse (como mencionado), para Middleware Locale (verificar locale setado), para Tenancy (simular Tenant::create e ver se evento dispara criação de BD – talvez usar Sqlite in-memory para simular). Escrever testes de integração utilizando in-memory SQLite ou um banco de teste para endpoints de autenticação e CRUD. Visando a meta de \~70% cobertura[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35), priorizar testes dos fluxos críticos (login, multi-tenant isolation, permissão negada/permitida).

36. **Frontend tests:** Configurar testes unitários no front (provavelmente usando Vitest ou Jest) para componentes e composables. Escrever alguns testes de exemplo – por ex, testar que useDialog abre/fecha corretamente, que store de tema muda o tema, etc. Configurar também testes end-to-end com Cypress para simular um usuário real: login, navegar entre telas, verificar que dados aparecem isolados por tenant (talvez simular troca de subdomínio no ambiente de dev – isso pode ser complexo em e2e, mas podemos ter um cypress config apontando para um tenant específico).

37. **Static analysis & Linting:** Integrar ferramentas como PHPStan (Larastan) no projeto backend e ESLint/Prettier no front para garantir estilo consistente[\[77\]](https://github.com/tiagohaasouza/hero/issues/380#:~:text=,Vuetify%2C%20evitando%20warnings%20no%20build). Configurar no CI (GitHub Actions ou similar) para rodar testes e lints em todo pull request. O repositório já possui Husky e lint-staged configurado? Se não, configurar para prevenir commits que quebrem estilo.

38. **CI/CD Pipeline:** (Se aplicável) Montar uma pipeline no GitHub Actions para rodar docker-compose em modo teste, executar migrations, rodar testes backend e front. Isso automatiza a verificação de qualidade a cada push.  
    O investimento em testes e qualidade garante que as próximas alterações não regressem funcionalidades já feitas e que possamos refatorar com segurança quando necessário.

39. **Documentação e Swagger/OpenAPI:** Com a API estável, produzir a documentação para usuários desenvolvedores e finais:

40. **Guia de Uso da API:** Escrever arquivos Markdown em docs/ detalhando como usar a API. Por exemplo: **docs/auth.md** (explicando fluxo de autenticação, exemplo de request/response de login, refresh, logout, incluindo exemplos de cURL ou httpie), **docs/tenancy.md** (explicar como criar tenant, como acessar subdomínios, nota sobre isolamento), **docs/endpoints.md** ou subdividir por recurso (usuários, livros – listar endpoints, parâmetros, códigos de retorno e exemplos). Agregar também a documentação de erros (talvez **docs/errors.md** com tabela de códigos de erro e significado em ambos idiomas)[\[61\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L29-L37)[\[98\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L39-L46). Como o projeto é bilíngue, podemos considerar escrever a doc em inglês, mas dado público alvo, português também é válido – ou até duas versões.

41. **Especificação OpenAPI 3.0:** Utilizar o Swagger para gerar uma especificação completa da API. Podemos usar alguma ferramenta como **Laravel OpenAPI** ou escrever os YAML/JSON manualmente. Incluir definições de schemas (DTOs de User, Book, etc.), parâmetros, segurança (bearer token), e exemplos. Hospedar essa spec através de uma interface Swagger UI – por exemplo, adicionar uma rota no ambiente de dev /api/docs servindo o Swagger UI (protegido por password se for sensível, ou só subir local). Isso facilita a experimentação e validação da API por terceiros.

42. **Documentar Versionamento:** No README ou docs, explicar nossa estratégia de versionamento (v1, futuramente v2, e política de deprecação)[\[73\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L31-L38), bem como como trocar idioma via header.

43. **Documentar Setup Dev:** Atualizar o **README.md** principal do projeto e o **/app/README.md** com instruções atualizadas de como levantar o ambiente (docker compose up, etc.), incluindo as mudanças de porta via .env, e descrevendo a estrutura de pastas, convenções de código (por exemplo, explicar os aliases do front @app, @components mapeados no vite.config)[\[76\]](https://github.com/tiagohaasouza/hero/issues/379#:~:text=,etc.%29%20para%20facilitar%20contribui%C3%A7%C3%B5es). Isso é importante para novos colaboradores entenderem o projeto rapidamente.  
    Com a documentação produzida, o projeto **Hero** estará bem comunicado – desenvolvedores saberão como usar a API e contribuir, e teremos um material de apoio para testes de integração de terceiros.

44. **Melhorias Finais no Frontend e Outras Futuras:** Por fim, dedicar tempo a aprimorar a experiência do usuário e incorporar melhorias adicionais:

    * Finalizar o composable **useDialog** centralizando diálogos de confirmação e alerta, facilitando seu uso em todo o app[\[74\]](https://github.com/tiagohaasouza/hero/issues/382#:~:text=,facilitando%20uso%20em%20fluxos%20ass%C3%ADncronos).

    * Aplicar o **Tema Global Vuetify** com cores padrão e modo claro/escuro, permitindo troca dinâmica e salvando preferência do usuário (no profile ou localStorage)[\[75\]](https://github.com/tiagohaasouza/hero/issues/381#:~:text=,prefer%C3%AAncia%20do%20usu%C3%A1rio%20em%20store). Isso inclui criar um store useSettings ou similar, se já não existe, e componentes respeitarem essas configs (Vuetify já tem suporte a theme switching).

    * Implementar a **Página de Perfil do Usuário**, onde o usuário pode atualizar seu nome, email, senha (com fluxo de confirmar senha atual), e definir preferências como idioma e tema[\[78\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L11-L19). Essa página fará requisição ao endpoint /users/me (que podemos implementar como parte do UsersController ou AuthController) para atualizar seu próprio usuário. Integrar validações e feedback ao usuário.

    * Melhorar **Acessibilidade (a11y)**: passar pelos componentes adicionando atributos ARIA onde necessário, melhorar contraste de cores se preciso[\[99\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L3-L6). Garantir navegação por teclado (Vuetify geralmente já cuida, mas verificar).

    * Otimizar builds de produção: ativar *code-splitting* no Vite (já padrão) e avaliar se há bibliotecas pesadas que podemos carregar sob demanda (por ex., se futuramente incluirmos charts, usar importação lazy)[\[100\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L7-L11).

    * Considerar habilitar recursos de **PWA** se fizer sentido – o projeto já tinha um *service worker* de exemplo registrado (do Vue CLI), podemos reintroduzir via Vite pwa plugin no futuro para permitir funcionamento offline básico e talvez notificação push[\[100\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L7-L11).

    * Monitoramento de erros e performance: integrar alguma ferramenta como **Sentry** para capturar erros JS do front, e talvez enviar métricas de Web Vitals para análise (em dev ou opcional em prod)[\[31\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L13-L16).

    * **Real-time e Notificações:** Atualmente, mantemos o servidor Node WebSocket de exemplo rodando em paralelo ao front[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35)[\[101\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L30). No futuro, podemos integrá-lo com o backend – por exemplo, emitindo eventos via Redis pub/sub para que o Node retransmita via websocket para clientes (implementação já sugerida)[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35)[\[102\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L28-L36). Ainda que não seja prioridade imediata, vale planejar a separação por tenant nesses eventos (ex.: incluir tenant id no canal pub/sub para notificar somente usuários daquele tenant). Mais adiante, podemos avaliar substituir por **Laravel WebSockets** (biblioteca BeyondCode) para unificar em PHP caso a manutenção do servidor Node se torne custosa – mas essa decisão fica para quando real-time for realmente necessário em produção[\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35)[\[103\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L28-L35).

    * **Planejamento de Versão 2:** À medida que novas features surgirem, já temos a estrutura para evoluir para v2 sem quebrar a v1. Devemos documentar quaisquer mudanças que seriam “breaking” e planejar lançá-las agrupadas numa nova versão. Até lá, manter v1 com retrocompatibilidade.

    * **Feedback e Iteração:** Após implementar tudo acima, provavelmente entraremos em uma fase de testes alfa/beta com usuários. Os bugs encontrados e feedback recebido poderão gerar ajustes finos adicionais (UX tweaks, ajustes de performance de queries, etc.). Estar preparado para iterar faz parte do roadmap ágil do projeto.

Seguindo esse roteiro, **priorizamos primeiro** a base limpa e estável (itens 1 e 2), depois **fundamentos críticos** de backend (itens 3 e 4 – multi-tenancy e auth, que desbloqueiam o uso seguro do sistema), em seguida padronização e i18n (itens 5 e 6, essenciais para qualidade e experiência global), então partimos para **features de produto** (CRUDs e geração de código no item 7), assegurando qualidade com testes (item 8\) e documentação (item 9\) conforme consolidamos as funcionalidades. Finalmente, refinamos a interface e extras no front e outros (item 10).

Esse plano coloca o projeto **Hero** no caminho para alcançar uma infraestrutura “nível industrial”, com um backend robusto, escalável e alinhado às melhores práticas modernas, e um frontend refinado e amigável. Cada etapa acima deverá ser acompanhada de revisões de código e fechamento das respectivas *issues/milestones* no tracker – por exemplo, ao concluir a fase Docker/Config (itens 1-2), fechar a milestone “Ambiente Docker & Estrutura” já entregue[\[7\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L59-L64); ao terminar multi-tenancy, fechar a milestone correspondente[\[43\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L7-L15); e assim por diante, sincronizando o progresso do código com nosso planejamento. Assim, teremos um **roadmap vivo e sincronizado com o repositório**, facilitando o acompanhamento e garantindo que nada fique esquecido. Com todas essas etapas cumpridas, o **Hero** estará pronto para avançar com segurança para etapas de implantação e crescimento de funcionalidades conforme as necessidades dos usuários. 🚀

---

[\[1\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L7-L15) [\[2\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L9-L17) [\[3\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L11-L19) [\[6\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L31-L39) [\[7\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L59-L64) [\[8\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L35-L43) [\[9\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L39-L47) [\[10\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L41-L49) [\[11\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L43-L46) [\[13\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L49-L57) [\[23\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L19-L27) [\[24\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md#L21-L29) 01-ambiente-docker--estrutura-do-projeto.md

[https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/01-ambiente-docker--estrutura-do-projeto.md)

[\[4\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L26-L35) [\[5\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L62-L70) [\[32\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L4-L12) [\[33\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh#L98-L101) entrypoint.sh

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/nginx/entrypoint.sh)

[\[12\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api.php#L3-L7) api.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api.php)

[\[14\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api_v1.php#L7-L11) api\_v1.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api\_v1.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/api_v1.php)

[\[15\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/database/migrations/2025_09_07_000000_create_tenants_table.php#L10-L18) [\[16\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/database/migrations/2025_09_07_000000_create_tenants_table.php#L20-L28) 2025\_09\_07\_000000\_create\_tenants\_table.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/database/migrations/2025\_09\_07\_000000\_create\_tenants\_table.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/database/migrations/2025_09_07_000000_create_tenants_table.php)

[\[17\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L14-L22) [\[18\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L34-L41) [\[19\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L22-L30) [\[20\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php#L34-L42) ResolveTenant.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Http/Middleware/ResolveTenant.php)

[\[21\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php#L26-L34) [\[22\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php#L40-L48) [\[35\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php#L46-L54) HeroDemo.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Console/Commands/HeroDemo.php)

[\[25\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh#L22-L30) [\[26\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh#L42-L50) frontend-entrypoint.sh

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/docker/entrypoints/frontend-entrypoint.sh)

[\[27\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/README_PATCH_v5.6.md#L22-L26) README\_PATCH\_v5.6.md

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/README\_PATCH\_v5.6.md](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/README_PATCH_v5.6.md)

[\[28\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L3-L11) [\[29\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L19-L22) [\[30\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L10-L18) [\[31\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L13-L16) [\[78\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L11-L19) [\[99\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L3-L6) [\[100\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md#L7-L11) 09-melhorias-gerais-e-futuras.md

[https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/app/09-melhorias-gerais-e-futuras.md)

[\[34\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L12-L15) [\[72\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L35) [\[73\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L31-L38) [\[101\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L27-L30) [\[102\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L28-L36) [\[103\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md#L28-L35) ARCHITECTURE.md

[https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/ARCHITECTURE.md)

[\[36\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L27-L35) [\[49\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L5-L13) [\[50\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L13-L21) [\[51\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L7-L15) [\[52\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L23-L31) [\[53\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L31-L39) [\[54\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L39-L47) [\[55\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L43-L51) [\[88\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L37-L39) [\[89\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L55-L61) [\[92\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L33-L39) [\[93\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L35-L39) [\[94\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md#L49-L57) 02-autenticao--segurana.md

[https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/02-autenticao--segurana.md)

[\[37\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L25-L31) [\[38\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L29-L37) [\[39\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L9-L17) [\[40\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L11-L19) [\[41\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L25-L33) [\[42\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L33-L41) [\[43\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L7-L15) [\[44\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L15-L23) [\[45\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L43-L49) [\[47\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L19-L23) [\[48\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L21-L29) [\[79\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L19-L21) [\[85\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L31-L39) [\[86\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L45-L49) [\[87\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md#L49-L56) 03-multi-tenancy-stancl-tenancy.md

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/03-multi-tenancy-stancl-tenancy.md)

[\[46\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/tenant.php#L20-L27) tenant.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/tenant.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/routes/tenant.php)

[\[56\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L7-L15) [\[57\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L13-L20) [\[58\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L21-L29) [\[59\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L9-L17) [\[60\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L23-L31) [\[61\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L29-L37) [\[62\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L31-L39) [\[95\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L40-L46) [\[98\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md#L39-L46) 05-padronizao-de-respostas-json.md

[https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/05-padronizao-de-respostas-json.md)

[\[63\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L5-L13) [\[64\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L7-L15) [\[65\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L11-L19) [\[66\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L13-L21) [\[96\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md#L27-L33) 04-internacionalizao-i18n-da-api.md

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/.roadmaps/api/04-internacionalizao-i18n-da-api.md)

[\[67\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L5-L13) [\[68\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L19-L27) [\[69\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L7-L15) [\[70\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L15-L23) [\[71\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L31-L39) [\[97\]](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md#L9-L17) 07-funcionalidades-bsicas-bread--cruds.md

[https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md](https://github.com/tiagohaasouza/hero/blob/3c12cf9d63442cdd644120f3886f6ac9d0043bd4/.roadmaps/api/07-funcionalidades-bsicas-bread--cruds.md)

[\[74\]](https://github.com/tiagohaasouza/hero/issues/382#:~:text=,facilitando%20uso%20em%20fluxos%20ass%C3%ADncronos) \*\*useDialog\*\* – composable para modais de confirmação/alerta usando componentes Vuetify (v-dialog). Fornece funções tipo confirm(message) que retornam Promise, facilitando uso em fluxos assíncronos.

[https://github.com/tiagohaasouza/hero/issues/382](https://github.com/tiagohaasouza/hero/issues/382)

[\[75\]](https://github.com/tiagohaasouza/hero/issues/381#:~:text=,prefer%C3%AAncia%20do%20usu%C3%A1rio%20em%20store) \*\*Tema Global Vuetify:\*\* Configurar um tema padrão no Vuetify (cores principais, tipografia, espaçamentos) com suporte a modo claro/escuro. Garantir que o tema possa ser trocado dinamicamente (armazenar preferência do usuário em store).

[https://github.com/tiagohaasouza/hero/issues/381](https://github.com/tiagohaasouza/hero/issues/381)

[\[76\]](https://github.com/tiagohaasouza/hero/issues/379#:~:text=,etc.%29%20para%20facilitar%20contribui%C3%A7%C3%B5es) \*\*Documentação do Projeto:\*\* Atualizar \*\*/app/README.md\*\* com instruções de setup, scripts disponíveis, estrutura de pastas e convenções de código. Incluir explicação dos aliases configurados (como \*@app\*, \*@components\*, \*@stores\* etc.) para facilitar contribuições.

[https://github.com/tiagohaasouza/hero/issues/379](https://github.com/tiagohaasouza/hero/issues/379)

[\[77\]](https://github.com/tiagohaasouza/hero/issues/380#:~:text=,Vuetify%2C%20evitando%20warnings%20no%20build) \*\*Configurações de Lint/Format:\*\* Padronizar ESLint/Prettier e hooks do Husky para garantir estilo consistente. Aplicar regras específicas para Vue 3 (Options API) e Vuetify, evitando warnings no build.

[https://github.com/tiagohaasouza/hero/issues/380](https://github.com/tiagohaasouza/hero/issues/380)

[\[80\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L19-L27) [\[83\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L8-L16) [\[84\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L2-L5) [\[90\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L31-L39) [\[91\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php#L32-L40) tenancy.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/config/tenancy.php)

[\[81\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Providers/TenancyServiceProvider.php#L24-L32) [\[82\]](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Providers/TenancyServiceProvider.php#L26-L35) TenancyServiceProvider.php

[https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Providers/TenancyServiceProvider.php](https://github.com/tiagohaasouza/hero/blob/c5dad2d2382219f1f1dae87a9bdb01d0e2424128/api/app/Providers/TenancyServiceProvider.php)